!function(){"use strict";var e=function(e,o,t,n,a){var r=this;r.title=e,r.category=o,r.info=t,r.lat=n,r.lng=a,r.log=function(){console.log(r)},r.addToMap=function(e){r.marker=new google.maps.Marker({position:new google.maps.LatLng(r.lat,r.lng),map:e,title:r.title});var o=new google.maps.InfoWindow({content:r.info});google.maps.event.addListener(r.marker,"click",function(){o.open(e,r.marker)})}},o=function(o){function t(){var e={center:{lat:49.2739952,lng:-123.1403072},zoom:14};return new google.maps.Map(document.getElementById("map"),e)}function n(){var e="https://api.foursquare.com/v2/venues/explore?ll=49.2739952,-123.1403072&limit=20&oauth_token=XWDKSEKZ0FTNFJMOJ1SA5MSSA1HZVCMPTTZ5DYJUX0YFI3K4&v=20150509";$.getJSON(e,function(e){for(var o=e.response.groups[0].items,t=0;t<o.length;t++){console.log(o[t].venue);var n=a(o[t].venue);console.log(n),n.addToMap(r.map),r.locations.push(n)}})}function a(o){var t=o.name,n=o.categories[0].name,a='<div id="content"><div id="siteNotice">'+n+'</div><h1 id="firstHeading" class="firstHeading">'+t+'</h1><div id="bodyContent"><p>other stuff</p></div></div>',r=o.location.lat,i=o.location.lng;return new e(t,n,a,r,i)}var r=this;r.map=t(),r.locations=ko.observableArray([]),r.categories=[{categoryName:"Coffee Shops"},{categoryName:"Restaurants"},{categoryName:"Book Stores"},{categoryName:"Parks"}],r.selectedCategories=[{categoryName:"Coffee Shops",isSelected:!1},{categoryName:"Restaurants",isSelected:!1},{categoryName:"Book Stores",isSelected:!1},{categoryName:"Parks",isSelected:!1}],n(),console.log("Mapped locations: "+r.locations()),r.currentFilter=ko.observable(),r.filteredLocations=ko.computed(function(){return r.currentFilter()?ko.utils.arrayFilter(r.locations(),function(e){return e.title.indexOf(r.currentFilter())>-1}):r.locations()}),r.filter=function(){r.currentFilter()}},t=new o;ko.applyBindings(t)}();